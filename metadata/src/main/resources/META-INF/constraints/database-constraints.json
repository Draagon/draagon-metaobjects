{
  "references": [
    "META-INF/constraints/core-constraints.json"
  ],
  "abstracts": [
    {
      "id": "database-identifier", 
      "type": "pattern",
      "description": "Database-safe identifier pattern (no special SQL keywords)",
      "parameters": {
        "pattern": "^(?!(?i)(SELECT|INSERT|UPDATE|DELETE|FROM|WHERE|JOIN|INNER|OUTER|LEFT|RIGHT|FULL|ORDER|GROUP|HAVING|CREATE|DROP|ALTER|TABLE|INDEX|VIEW|TRIGGER|PROCEDURE|FUNCTION|DATABASE|SCHEMA|USER|ROLE|GRANT|REVOKE|COMMIT|ROLLBACK|TRANSACTION|BEGIN|END|IF|ELSE|WHILE|FOR|LOOP|DECLARE|SET|EXEC|EXECUTE))([a-zA-Z][a-zA-Z0-9_]*)$"
      }
    },
    {
      "id": "sql-data-type",
      "type": "enum", 
      "description": "Valid SQL data types for database mapping",
      "parameters": {
        "values": ["VARCHAR", "CHAR", "INTEGER", "INT", "BIGINT", "SMALLINT", "DECIMAL", "NUMERIC", "FLOAT", "REAL", "DOUBLE", "DATE", "TIME", "TIMESTAMP", "BOOLEAN", "BLOB", "CLOB", "TEXT"],
        "caseSensitive": false
      }
    },
    {
      "id": "table-name-length",
      "type": "length",
      "description": "Database table name length limits",
      "parameters": {
        "min": 1,
        "max": 64
      }
    },
    {
      "id": "column-name-length", 
      "type": "length",
      "description": "Database column name length limits",
      "parameters": {
        "min": 1,
        "max": 64
      }
    }
  ],
  "constraints": [
    {
      "targetType": "attr",
      "targetSubType": "string", 
      "targetName": "dbTable",
      "abstractRef": "database-identifier"
    },
    {
      "targetType": "attr",
      "targetSubType": "string",
      "targetName": "dbTable", 
      "abstractRef": "table-name-length"
    },
    {
      "targetType": "attr",
      "targetSubType": "string",
      "targetName": "dbSchema",
      "abstractRef": "database-identifier" 
    },
    {
      "targetType": "attr",
      "targetSubType": "string",
      "targetName": "dbSchema",
      "abstractRef": "table-name-length"
    },
    {
      "targetType": "attr", 
      "targetSubType": "string",
      "targetName": "dbCol",
      "abstractRef": "database-identifier"
    },
    {
      "targetType": "attr",
      "targetSubType": "string", 
      "targetName": "dbCol",
      "abstractRef": "column-name-length"
    },
    {
      "targetType": "attr",
      "targetSubType": "string",
      "targetName": "dbType",
      "abstractRef": "sql-data-type"
    },
    {
      "targetType": "attr",
      "targetSubType": "string",
      "targetName": "dbType",
      "abstractRef": "required-string"
    },
    {
      "targetType": "attr",
      "targetSubType": "int",
      "targetName": "dbLength", 
      "type": "range",
      "parameters": {
        "min": 1,
        "max": 65535
      }
    },
    {
      "targetType": "attr",
      "targetSubType": "int", 
      "targetName": "dbPrecision",
      "type": "range",
      "parameters": {
        "min": 1,
        "max": 65
      }
    },
    {
      "targetType": "attr",
      "targetSubType": "int",
      "targetName": "dbScale",
      "type": "range", 
      "parameters": {
        "min": 0,
        "max": 30
      }
    }
  ]
}